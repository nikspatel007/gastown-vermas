# Runtime Configuration for Gas Town Verification Layer
#
# This file configures the available AI runtimes and their role assignments.
# The Auditor role uses an alternate runtime for independent code verification.

# Available runtimes and their CLI configurations
runtimes:
  claude:
    command: claude
    args: ["-p"]
    description: "Anthropic Claude - default runtime for all Gas Town agents"

  codex:
    command: codex
    args: ["-q"]
    description: "OpenAI Codex - preferred for independent verification"

  opencode:
    command: opencode
    args: ["-p"]
    description: "OpenCode - open-source alternative for local verification"

# Role to runtime assignments
# Each role specifies which runtime to use
roles:
  mayor: claude
  deacon: claude
  polecat: claude
  witness: claude
  refinery: claude
  crew: claude
  auditor: codex  # Different runtime for verification!

# Fallback chain for the auditor role
# If the primary runtime is not available, try these in order
auditor_fallback:
  - codex      # Preferred: different model for true independent review
  - opencode   # Alternative: open-source option
  - claude     # Last resort: same model (still useful for syntax/style checks)

# Verification configuration
verification:
  # Enable/disable verification
  enabled: true

  # Minimum confidence threshold for auto-approval
  # Results below this threshold escalate to NEEDS_HUMAN
  required_confidence: 0.7

  # Timeout for verification operations (seconds)
  timeout_seconds: 300

  # Which beads/MRs require verification
  # Options: all, critical, none
  scope: critical

  # Labels that trigger verification
  critical_labels:
    - security
    - critical
    - high-priority
    - needs-verification
